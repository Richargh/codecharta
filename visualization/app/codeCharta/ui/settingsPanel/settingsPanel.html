<div id="settingsPanel">

    <fab-component onclick="$('#settingsPanel').animate({ width : 0 } );" icon-class="fa-arrow-circle-o-right"></fab-component>

    <collapsible-directive>

        <collapsible-element-directive label="Maps" icon-class="fa-map">

            <revision-chooser-component></revision-chooser-component>

        </collapsible-element-directive>

        <collapsible-element-directive label="Color Settings" icon-class="fa-paint-brush">
            <label id="colorSliderLabel" for="colorSlider">Neutral Color Range</label>
            <rzslider id="colorSlider" rz-slider-model="$ctrl.settings.neutralColorRange.from"
                      rz-slider-high="$ctrl.settings.neutralColorRange.to"
                      rz-slider-options="$ctrl.sliderOptions"></rzslider>

            <div class='input-field col s6'>
            <input type='number' ng-model="$ctrl.settings.neutralColorRange.from" min=0 max={{$ctrl.settings.neutralColorRange.to - 1}} step="1" ng-change="$ctrl.sliderOption.onChange()">
            </div>

            <div class='input-field col s6'>
            <input type='number' ng-model="$ctrl.settings.neutralColorRange.to" min={{$ctrl.settings.neutralColorRange.from + 1}} max={{$ctrl.sliderOption.ceil}}  step="1" ng-change="$ctrl.sliderOption.onChange()">
            </div>

            <checkbox-directive model="$ctrl.settings.neutralColorRange.flipped" label="Invert Colors" change="$ctrl.notify()"></checkbox-directive>
            <checkbox-directive ng-if="$ctrl.settings.deltas" model="$ctrl.settings.deltaColorFlipped" label="Invert Delta Colors" change="$ctrl.notify()"></checkbox-directive>

        </collapsible-element-directive>

        <collapsible-element-directive label="Display" icon-class="fa-television">
            <number-field-directive label="Amount of labeled buildings" min="0" model="$ctrl.settings.amountOfTopLabels" change="$ctrl.notify()"></number-field-directive>
            <checkbox-directive model="$ctrl.settings.deltas" label="Deltas" change="$ctrl.notify()"></checkbox-directive>
        </collapsible-element-directive>

        <collapsible-element-directive label="Scaling" icon-class="fa-cube">
            <slider-directive step="0.1"  label="x" min="0.1" max="5" model="$ctrl.settings.scaling.x" change="$ctrl.notify()"></slider-directive>
            <slider-directive step="0.1"  label="y" min="0.1" max="5" model="$ctrl.settings.scaling.y" change="$ctrl.notify()"></slider-directive>
            <slider-directive step="0.1"  label="z" min="0.1" max="5" model="$ctrl.settings.scaling.z" change="$ctrl.notify()"></slider-directive>
        </collapsible-element-directive>

        <collapsible-element-directive label="Metrics" icon-class="fa-line-chart">
            <dropdown-directive label="Area" values="$ctrl.metrics" model="$ctrl.settings.areaMetric" change="$ctrl.notify()"></dropdown-directive>
            <dropdown-directive label="Height" values="$ctrl.metrics" model="$ctrl.settings.heightMetric" change="$ctrl.notify()"></dropdown-directive>
            <dropdown-directive label="Color" values="$ctrl.metrics" model="$ctrl.settings.colorMetric" change="$ctrl.notify()"></dropdown-directive>
        </collapsible-element-directive>

        <collapsible-element-directive label="Reports" icon-class="fa-file">
            <a class="waves-effect waves-light btn settings-panel-btn" title="Generate CSV Report" ng-click="$ctrl.onGenerateCsvReport()">Generate CSV Report</a>
        </collapsible-element-directive>

        <collapsible-element-directive label="Scenarios" icon-class="fa-line-chart">
            <scenario-buttons-component></scenario-buttons-component>
        </collapsible-element-directive>

        <collapsible-element-directive label="TreeView" icon-class="fa-tree">
            <map-tree-view-component></map-tree-view-component>
        </collapsible-element-directive>

        <collapsible-element-directive label="Experimental" icon-class="fa-flask">
            <slider-directive step="1"  label="Margin between buildings" min="1" max="100" model="$ctrl.settings.margin" change="$ctrl.notify()"></slider-directive><br/><br/>
            <checkbox-directive model="$ctrl.settings.showDependencies" label="Show dependencies of selected Building" change="$ctrl.notify()"></checkbox-directive><br /><br />
        </collapsible-element-directive>

        <collapsible-element-directive label="Statistics" icon-class="fa-line-chart">
            A new map is shown, where each class is the result of applying a statistical function to that class in every loaded version of the map
            <dropdown-directive label="Function to apply" values="$ctrl.STATISTIC_OPS" model="$ctrl.settings.operation" change="$ctrl.onStatisticsChange()" use-enum-filter="true"></dropdown-directive>
        </collapsible-element-directive>

    </collapsible-directive>

    <a class="waves-effect waves-light btn settings-panel-btn" title="Show Url Parameters" ng-click="$ctrl.showUrlParams()">Show Url Parameters</a>

</div>